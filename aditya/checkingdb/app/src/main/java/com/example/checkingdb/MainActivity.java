package com.example.checkingdb;

import androidx.appcompat.app.AppCompatActivity;

import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteStatement;
import android.os.Bundle;
import android.util.Log;

import java.util.ArrayList;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        try{
            String val="0.7059754987,0.0474974861,0.9423233219,0.3175632817,0.6979175050,0.1807611381,0.5085360602,0.7949276577,0.0282321416,0.6121825521,0.4235485555,0.2866830351,0.4506072095,0.4133296644,0.6495799624,0.0943859828,0.5136100819,0.3429299598,0.8437932767,0.6521205209,0.4725332976,0.0781551502,0.2051823623,0.4476859278,0.0979366724,0.2101762736,0.4669631129,0.2163075116,0.3691791977,0.2021891533,0.6349383193,0.1820449485,0.4456439399,0.2333630134,0.2935699221,0.9865496631,0.4274531889,0.9247989627,0.9853794296,0.6069878715,0.8753674879,0.3758381593,0.8787006491,0.9042452382,0.6005200442,0.6385597685,0.2480873626,0.2268534600,0.9826824221,0.4371144605,0.9167266172,0.5361329779,0.9603853516,0.8721106185,0.7446361562,0.9864925641,0.7978603962,0.9096647860,0.9984557609,0.4641708451,0.4169428134,0.7729521081,0.0415654230,0.9064077853,0.6484906577,0.9040922639,0.9787009455,0.9880653013,0.1963949704,0.1930421179,0.5377559921,0.3418195908,0.5296495164,0.5276822574,0.8844407148,0.7558239213,0.0670082041,0.6967346875,0.8702045592,0.2142316069,0.2208489102,0.4872514249,0.2795172629,0.0075997205,0.8702472890,0.0040952382,0.7451447683,0.9734016406,0.5405309527,0.2154255529,0.1874293267,0.8645010091,0.5143086907,0.9249295949,0.7965580071,0.2699364071,0.4492255558,0.3834512227,0.4526580393,0.7834286989,0.0449563326,0.8070553139,0.3428836050,0.3589527888,0.2412054140,0.5651727682,0.1914981495,0.0095848173,0.2899337658,0.3524641277,0.3893804766,0.6919580726,0.4302158420,0.4075326847,0.9125108094,0.6318148943,0.6651671078,0.9746179329,0.2628278186,0.6957285948,0.0328341073,0.1260793963,0.9895646415,0.1474664364,0.3385324506,0.6305006567,0.2280300675,0.2978453504";
            SQLiteDatabase myDatabase = this.openOrCreateDatabase("sample", MODE_PRIVATE, null);
            myDatabase.execSQL("CREATE TABLE IF NOT EXISTS data (col VARCHAR)");
//            for(int i=0;i<5000;i++){
//                myDatabase.execSQL("INSERT INTO data (col) VALUES ('0.7059754987,0.0474974861,0.9423233219,0.3175632817,0.6979175050,0.1807611381,0.5085360602,0.7949276577,0.0282321416,0.6121825521,0.4235485555,0.2866830351,0.4506072095,0.4133296644,0.6495799624,0.0943859828,0.5136100819,0.3429299598,0.8437932767,0.6521205209,0.4725332976,0.0781551502,0.2051823623,0.4476859278,0.0979366724,0.2101762736,0.4669631129,0.2163075116,0.3691791977,0.2021891533,0.6349383193,0.1820449485,0.4456439399,0.2333630134,0.2935699221,0.9865496631,0.4274531889,0.9247989627,0.9853794296,0.6069878715,0.8753674879,0.3758381593,0.8787006491,0.9042452382,0.6005200442,0.6385597685,0.2480873626,0.2268534600,0.9826824221,0.4371144605,0.9167266172,0.5361329779,0.9603853516,0.8721106185,0.7446361562,0.9864925641,0.7978603962,0.9096647860,0.9984557609,0.4641708451,0.4169428134,0.7729521081,0.0415654230,0.9064077853,0.6484906577,0.9040922639,0.9787009455,0.9880653013,0.1963949704,0.1930421179,0.5377559921,0.3418195908,0.5296495164,0.5276822574,0.8844407148,0.7558239213,0.0670082041,0.6967346875,0.8702045592,0.2142316069,0.2208489102,0.4872514249,0.2795172629,0.0075997205,0.8702472890,0.0040952382,0.7451447683,0.9734016406,0.5405309527,0.2154255529,0.1874293267,0.8645010091,0.5143086907,0.9249295949,0.7965580071,0.2699364071,0.4492255558,0.3834512227,0.4526580393,0.7834286989,0.0449563326,0.8070553139,0.3428836050,0.3589527888,0.2412054140,0.5651727682,0.1914981495,0.0095848173,0.2899337658,0.3524641277,0.3893804766,0.6919580726,0.4302158420,0.4075326847,0.9125108094,0.6318148943,0.6651671078,0.9746179329,0.2628278186,0.6957285948,0.0328341073,0.1260793963,0.9895646415,0.1474664364,0.3385324506,0.6305006567,0.2280300675,0.2978453504')");
//            }

            myDatabase.beginTransaction();

            String sql= "INSERT INTO data (col) VALUES (?)";
            SQLiteStatement stmt = myDatabase.compileStatement(sql);
            for(int i=0;i<5000;i++){
                stmt.bindString(1,val);
                stmt.execute();
                stmt.clearBindings();
            }

            myDatabase.setTransactionSuccessful();
            myDatabase.endTransaction();

            myDatabase.beginTransaction();

//            String sql1= "SELECT * FROM data WHERE col='0.7059754987,0.0474974861,0.9423233219,0.3175632817,0.6979175050,0.1807611381,0.5085360602,0.7949276577,0.0282321416,0.6121825521,0.4235485555,0.2866830351,0.4506072095,0.4133296644,0.6495799624,0.0943859828,0.5136100819,0.3429299598,0.8437932767,0.6521205209,0.4725332976,0.0781551502,0.2051823623,0.4476859278,0.0979366724,0.2101762736,0.4669631129,0.2163075116,0.3691791977,0.2021891533,0.6349383193,0.1820449485,0.4456439399,0.2333630134,0.2935699221,0.9865496631,0.4274531889,0.9247989627,0.9853794296,0.6069878715,0.8753674879,0.3758381593,0.8787006491,0.9042452382,0.6005200442,0.6385597685,0.2480873626,0.2268534600,0.9826824221,0.4371144605,0.9167266172,0.5361329779,0.9603853516,0.8721106185,0.7446361562,0.9864925641,0.7978603962,0.9096647860,0.9984557609,0.4641708451,0.4169428134,0.7729521081,0.0415654230,0.9064077853,0.6484906577,0.9040922639,0.9787009455,0.9880653013,0.1963949704,0.1930421179,0.5377559921,0.3418195908,0.5296495164,0.5276822574,0.8844407148,0.7558239213,0.0670082041,0.6967346875,0.8702045592,0.2142316069,0.2208489102,0.4872514249,0.2795172629,0.0075997205,0.8702472890,0.0040952382,0.7451447683,0.9734016406,0.5405309527,0.2154255529,0.1874293267,0.8645010091,0.5143086907,0.9249295949,0.7965580071,0.2699364071,0.4492255558,0.3834512227,0.4526580393,0.7834286989,0.0449563326,0.8070553139,0.3428836050,0.3589527888,0.2412054140,0.5651727682,0.1914981495,0.0095848173,0.2899337658,0.3524641277,0.3893804766,0.6919580726,0.4302158420,0.4075326847,0.9125108094,0.6318148943,0.6651671078,0.9746179329,0.2628278186,0.6957285948,0.0328341073,0.1260793963,0.9895646415,0.1474664364,0.3385324506,0.6305006567,0.2280300675,0.2978453504'";
//            SQLiteStatement stmt1 = myDatabase.compileStatement(sql1);
//            stmt1.execute();
            
            myDatabase.setTransactionSuccessful();
            myDatabase.endTransaction();


            String sel = "SELECT * FROM data";
            Cursor cursor = myDatabase.rawQuery(sel,null);
            int index = cursor.getCount();
            Log.i("total",Integer.toString(index));

        }
        catch (Exception e){
            e.printStackTrace();
        }

    }
}
